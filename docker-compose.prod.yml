services:
  epark-dental:
    build: .
    container_name: smartcall-epark-dental
    env_file:
      - .env
    environment:
      # デフォルト値（.envで上書き可能）
      - KEEP_ALIVE_INTERVAL_MS=${KEEP_ALIVE_INTERVAL_MS:-600000}
    ports:
      - "3001:3000"
    volumes:
      - ./screenshots:/app/screenshots
      - ./input:/app/input
      - ./output:/app/output
    restart: unless-stopped
    command: ["npm", "run", "start"]
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
